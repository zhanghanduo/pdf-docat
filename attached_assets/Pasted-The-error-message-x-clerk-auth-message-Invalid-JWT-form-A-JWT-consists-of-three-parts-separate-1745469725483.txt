The error message `'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'` indicates that the system expects a JSON Web Token (JWT) in the HTTP header, but instead received something else—most likely your OpenRouter API key[2]. 

## Why This Happens

- **JWT Format**: A JWT is a string with three segments separated by dots, like `xxxxx.yyyyy.zzzzz`.
- **OpenRouter API Key Format**: OpenRouter API keys typically start with `sk-or-v1-` and do not follow the JWT structure[1].
- **Header Expectation**: The API endpoint you are calling expects a JWT in the `Authorization` or a similar header, not an API key[2].
- **Result**: When you provide an OpenRouter API key where a JWT is expected, the system cannot parse it as a JWT and throws this error.

## Common Scenarios

- Some platforms or API endpoints (especially those using Clerk or similar authentication providers) require a JWT for authentication, not an API key[2].
- OpenRouter's API keys are meant to be used with their own API endpoints or compatible services, not with platforms expecting JWTs[1][2].

## How to Fix

- **Check the Documentation**: Ensure you are using the correct authentication method for the API endpoint. If it requires a JWT, you cannot use an OpenRouter API key.
- **Use the Right Key in the Right Place**: 
  - For OpenRouter APIs, use your OpenRouter API key in the format they specify.
  - For endpoints requiring a JWT, you must obtain a JWT (often by logging in or using an authentication flow specific to that service).
- **Do Not Swap Key Types**: Do not use an OpenRouter API key where a JWT is required, and vice versa.

## Additional Troubleshooting

- If you are using a third-party service or wrapper (e.g., a site that lets you bring your own API key), verify that it supports OpenRouter keys and is not expecting a JWT[1][2][4].
- If you are unsure, try generating a new key or consult the platform's support resources[1][4].
- Double-check for typos or formatting errors when pasting your key[5].

## Summary Table

| You Have          | API Expects      | Result                |
|-------------------|------------------|-----------------------|
| OpenRouter API Key| JWT              | Invalid JWT error     |
| JWT               | JWT              | Works (if valid)      |
| OpenRouter API Key| OpenRouter API   | Works (if valid)      |

**In short:** This error means you are using an OpenRouter API key in a place that expects a JWT. You must use the correct type of credential for the API you are calling[2].

Sources
[1] Openrouter API key invalid? : r/WebSim - Reddit https://www.reddit.com/r/WebSim/comments/1dtxjyt/openrouter_api_key_invalid/
[2] Can't use claude from OpenRouter : r/ChatGPTCoding - Reddit https://www.reddit.com/r/ChatGPTCoding/comments/1hx4iyb/cant_use_claude_from_openrouter/
[3] Google Client Invalid JWT: Token must be a short-lived token https://stackoverflow.com/questions/48056381/google-client-invalid-jwt-token-must-be-a-short-lived-token
[4] Missing Authentication Header when using Openrouter : r/Chub_AI https://www.reddit.com/r/Chub_AI/comments/1c38ymq/missing_authentication_header_when_using/
[5] python - Why am I getting an authentication error when trying to run ... https://stackoverflow.com/questions/76322025/why-am-i-getting-an-authentication-error-when-trying-to-run-a-langchain-tutorial
[6] API Error Handling | OpenRouter Error Documentation https://openrouter.ai/docs/api-reference/errors
[7] [Bug]: Set Api Key NOK · Issue #5059 · danny-avila/LibreChat - GitHub https://github.com/danny-avila/LibreChat/issues/5059
[8] OpenRouter API | Documentation | Postman API Network https://www.postman.com/ai-engineer/generative-ai-apis/documentation/ef6c9qg/openrouter-api?entity=request-7643177-dde6568f-cba0-45b6-b36b-5359979e5092
[9] OpenRouter API | Documentation | Postman API Network https://www.postman.com/ai-engineer/generative-ai-apis/documentation/ef6c9qg/openrouter-api?entity=request-7643177-38d50c7d-1d3c-438d-b88c-7b250b6415a7
[10] OpenRouter credentials - n8n Docs https://docs.n8n.io/integrations/builtin/credentials/openrouter/
[11] Token validation fails with token must have three segments (JWS) or ... https://learn.microsoft.com/en-us/answers/questions/1605474/token-validation-fails-with-token-must-have-three
[12] Error There was an error processing your request: No details were ... https://thinktank.ottomator.ai/t/error-there-was-an-error-processing-your-request-no-details-were-returned/1257
[13] Invalid Token JWT - Stack Overflow https://stackoverflow.com/questions/76814270/invalid-token-jwt
[14] If i add openrouter it says THE provided api key is invalid https://forum.cursor.com/t/if-i-add-openrouter-it-says-the-provided-api-key-is-invalid/5958
[15] JSON Web Token Attacks And Vulnerabilities - Acunetix https://www.acunetix.com/blog/articles/json-web-token-jwt-attacks-vulnerabilities/
[16] Getting "Invalid token in authorization header" error while registering ... https://stackoverflow.com/questions/78774851/getting-invalid-token-in-authorization-header-error-while-registering-user-wit
[17] Always returning 401 Unauthorized with a JWT Token using RS256 https://github.com/mikenicholson/passport-jwt/issues/117
[18] JWT attacks | Web Security Academy - PortSwigger https://portswigger.net/web-security/jwt
[19] how do I solve the invalid signature error in jwt Authentication in .net ... https://learn.microsoft.com/en-us/answers/questions/1209839/how-do-i-solve-the-invalid-signature-error-in-jwt
[20] Guide to Understanding JWT Validation (+Code Examples) - Criipto https://www.criipto.com/blog/jwt-validation-guide
